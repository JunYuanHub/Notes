# Linux学习（六）三剑客  
## SED命令  
### SED介绍  
sed介绍：字符流的编辑器。类似vim，编辑修改文件内容（但不会直接对源文件修改）等。擅长对字符行的操作和内容的增删改查。  

命令格式：`sed　参数　条件和处理　文件`  
> 条件和处理：即对符合'条件'的行,进行相应'处理'  

执行原理：sed会把文件的内容一行一行放入模式空间（内存的一块位置），先判断该行内容是否是符合命令查找条件的：(1)是。对该行内容执行对应的处理（2）不是。不处理  
> 只要内容放入模式空间默认会输出，加上参数-n取消默认输出，只显示进行的操作  

### SED常用参数与命令  
参数：  
```
-n:取消默认输出  
-r:使用拓展正则
-i:直接修改文档内容，不在屏幕输出
-e:多重编辑模式(即多个条件和处理)

1.g:全局搜索(用法参考下面5.)
2.p:打印行（常与-i搭配使用）
  sed -n "/aa/p" test.txt  # 打印出含有aa的行
3.w:将对应行写入文件
  sed -n '/test/w file' example # 将含example中含test的行写入file
4.d:删除对应行
  sed "/aa/d" test.txt
5.s:替换
  sed 's/aa/bb/g' test.txt # 将所有aa替换为bb，不加g则每行只替换一次
6.c:修改
  sed '/a/c b' test.txt # 将含有a的行,整行替换为b
7.指定行的范围：逗号(,指定a到b),分号(;a和b)
  sed -n '1,3p' test.txt  # 打印1到3行内容
8.q退出：找到指定行后退出sed命令  
```  
  
## awk命令  
1. 取第二行到第四行内容：`awk 'NR=2,NR=4' test.txt`  
2. 找出出现a和出现b的行：`awk '/a/;/b/' test.txt`  
3. 显示出现a的行的第1列、倒数第二列：`awk '/a/{print $1,$(NF-1)} test.txt'`  
4. 修改默认分隔符进行分割：`awk -F "newSym"`  
5. 找出第三列中以a开头的行的第一列`awk '$3~/^a/{print $1}' test.txt`  
6. 或者关系：|、[ ]\(正则)  
  
替换命令：gsub(/匹配内容/,'替换成的内容'，目标操作列)  
打印命令：print  
内置变量：FS(分隔符变量)，NR行号信息，NF一行有多少列
特殊模式：BEGIN可加表头,END。二者均可添加变量运算，不需$标识。  
   + 例题：统计行，并打印`awk '/a/{i++}END{print i}'`  
  
其他参数：$0(取所有)，$NF(取倒数),~匹配查询(指定列查询)，！排除
  
