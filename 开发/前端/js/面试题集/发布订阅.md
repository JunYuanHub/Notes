React父子组件通信：  
```  
React

1. 父子组件,父->子直接用Props,子->父用callback回调
2. 非父子组件,用发布订阅模式的Event模块
3. 项目复杂的话用Redux、Mobx等全局状态管理管库
4. 用新的Context Api
```  
对于发布订阅模式，参考以下
```  
class EventEmiter{
    constructor(){
        this._events=new Map()
    }
    addListener(type,func){
        if(Object.prototype.toString.call(func)!=="[object Function]"){ throw "the func param must be function" }
        if(this._events.get(type) ){
            // 若不为空，说明已经设置过监听函数
            this._events.get(type).push(func)
        }else {
            // 若为undefined，说明第一次设置
            this._events.set(type,[func])
        }
        return [type,func]

    }
    emit(type){
        let arr = this._events.get(type)
        if(arr){
            for(let i in arr){
                arr[i]()
            }
        }else {
            return null
        }
    }
    removeListener(type,func) {
        if (this._events.get(type) && this._events.get(type).indexOf(func)>-1){
            this._events.get(type).splice(this._events.get(type).indexOf(func),1)
        }
        if(this._events.get(type)===[]){
            this._events.delete(type)
        }
    }
}
let a = new EventEmiter()
a.addListener("click",()=>{console.log("do sth")})
a.addListener("click",()=>{console.log(2)})
let c=a.addListener("click",()=>{console.log(3)})
a.emit("click")
a.removeListener(...c)
a.emit("click")
```